<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Repeater</title>
  <script src="js/T5.js"></script>
</head>
<body>
  
  
  <p><input id="filter-box" type="text" placeholder="Filter"></p>
  
  <strong>Heroes</strong>
  
  <div id="container" >
    <ul data-t5-template="heroes">
      <li repeat="hero in list | heroeslFilter">{{hero.name}}, {{hero.age}}</li>
    </ul>
  </div>
  
  
  <script>    
    (function(t5){
    
      t5.register();    
      
      var model = '';
      var container = document.getElementById('container');
      var filterBox = document.getElementById('filter-box');
          
      var list = [
        { id: 1, name: 'Superman', age: 32},
        { id: 2, name: 'Batman', age: 26},
        { id: 3, name: 'Flash', age: 27},
        { id: 4, name: 'Green Lantern', age: 27},
        { id: 5, name: 'Cyborg', age: 27},
        { id: 6, name: 'Wonder Woman', age: 24}        
      ];
      
      t5.filter('heroeslFilter', function(item) { 
        return stringifyKeys(item).indexOf(model.toLocaleLowerCase()) > -1 ? true : false;
      });
            
      function stringifyKeys(data) {
        return JSON.stringify(data).replace(/"\w+":"*(\w+)"*/g, '$1').toLocaleLowerCase();
      }
      
      filterBox.onkeyup = function(event) {
        model = this.value;
        container.innerHTML = t5.render({list:list}, 'heroes');
      }
      
      container.innerHTML = t5.render({list:list}, 'heroes');
      
    }(t5));    
  </script>
</body>
</html>